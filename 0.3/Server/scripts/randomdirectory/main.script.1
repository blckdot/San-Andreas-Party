procedure OnStart();
begin
  CreateSpawn(3673.861,-1881.161,40.795,0.0);
  CreateVehicle(470,3631.705,-1924.922,40.795,0.0);
  CreateVehicle(470,3659.680,-1889.984,40.795,0.0);
  CreateVehicle(470,3698.768,-1868.959,40.802,0.0);
  CreateVehicle(470,3738.023,-1853.390,40.802,0.0);
  CreateVehicle(470,3778.293,-1856.288,40.802,0.0);
  CreateVehicle(470,3805.978,-1865.774,40.802,0.0);
  CreateVehicle(470,3850.985,-1887.809,40.802,0.0);
  CreateVehicle(470,3894.852,-1987.423,40.812,0.0);
  CreateObject(6342,3649.742,-1911.708,19.884,0.0,0.0,0.0);
  CreateObject(6342,3738.042,-1859.459,19.891,0.0,0.0,-45.000);
  CreateObject(6342,3837.511,-1884.899,19.892,0.0,0.0,-90.000);
  CreateObject(6342,3864.431,-2072.693,19.902,0.0,0.0,180.000);
  CreateObject(6342,3676.949,-2099.424,19.891,0.0,0.0,90.000);
  CreateObject(6342,3624.364,-2011.171,19.893,0.0,0.0,45.000);
  CreateObject(6342,3889.766,-1973.210,19.897,0.0,0.0,225.000);
  CreateObject(6342,3776.165,-2124.940,19.885,0.0,0.0,135.000);
  CreateObject(6342,3857.032,-2013.205,19.896,0.0,0.0,168.750);
  CreateObject(6342,3763.898,-2045.552,20.064,0.0,0.0,123.750);
  CreateObject(6342,3671.855,-2001.678,20.031,0.0,0.0,78.750);
  CreateObject(6342,3653.855,-1967.173,19.956,0.0,0.0,56.250);
  CreateObject(6342,3845.896,-1935.250,19.729,0.0,0.0,-78.750);
  CreateObject(6342,3744.740,-1930.083,19.979,0.0,0.0,-33.750);
  CreateObject(6342,3670.532,-1996.403,20.028,0.0,0.0,11.250);
  CreateObject(6342,3658.932,-2041.669,19.903,0.0,0.0,33.750);
  CreateObject(971,3716.755,-1990.378,37.526,-106.570,0.0,-79.609);
  CreateObject(971,3710.136,-1991.560,39.249,-103.132,0.0,-79.609);
  CreateObject(971,3703.316,-1992.863,39.933,-89.381,0.0,-79.609);
  CreateObject(971,3696.384,-1994.098,39.841,-89.381,0.0,-79.609);
  CreateObject(971,3689.350,-1995.382,39.759,-89.381,0.0,-79.609);
  CreateObject(971,3682.371,-1996.666,39.645,-89.381,0.0,-79.609);
  CreateObject(971,3679.392,-1997.693,39.487,-101.413,0.0,-79.609);
  CreateObject(3873,3735.331,-1986.777,18.084,0.0,0.0,0.0);
  CreateObject(971,3723.365,-1989.048,35.516,-104.851,0.0,-79.609);
  CreateObject(6342,3779.985,-1970.721,20.061,0.0,0.0,-135.000);
  CreateObject(6342,3778.656,-2010.252,19.985,0.0,0.0,-157.500);
  CreateObject(973,3719.648,-1984.636,34.909,0.0,0.0,0.0);
  CreateObject(973,3721.349,-1994.521,34.909,0.0,0.0,-157.500);
  CreateVehicleRepair(3655.391,-2084.125,41.641);
  CreateVehicleRepair(3882.787,-1935.601,41.647);
  CreateVehicleRepair(3686.450,-1873.116,41.641);
  CreateVehicleRepair(3855.203,-2096.357,41.652);
  CreateVehicleRepair(3729.156,-1988.690,35.029);
  CreateVehicleRepair(3735.334,-1986.943,36.936);
  CreateArmorPickup(3756.826,-1850.594,40.802);
  IRCSay('Server Loaded!');
end;

procedure OnPlayerText(PlayerID : Integer; Message : String);
var
  PosX, PosY, PosZ : Single;
  Tmp : String;
  Val, i : Integer;
begin
  IRCSay(GetPlayerNick(PlayerID)+': '+Message);
  If (Message = '!teleports') Then
  Begin
    SendTextToPlayer(PlayerID,'*** TELEPORTS > LS: !ls - SF: !sf - LV: !lv - SA: !sa');
    SendTextToPlayer(PlayerID,'*** TELEPORTS > Liberty City: !lc - Rusty Browns Ring Donatus: !rusty');
    SendTextToPlayer(PlayerID,'*** TELEPORTS > Marco''s place: !mp - Jail: !jail');
  End
  Else If (Message = '!ls') Then
  Begin
    SetPlayerInterior(PlayerID,0);
    SetPlayerPos(PlayerID, 1551.484619, -1675.477905, 15.869174);
    SendTextToPlayer(PlayerID,'*** Welcome in Los Santos!');
    DisplayTextPlayer(PlayerID,4,'Los Santos',5000);
  End
  Else If (Message = '!sf') Then
  Begin
    SetPlayerInterior(PlayerID,0);
    SetPlayerPos(PlayerID, -1605.517822, 711.905944, 13.867187);
    SendTextToPlayer(PlayerID,'*** Welcome in San Fierro!');
    DisplayTextPlayer(PlayerID,4,'San Fierro',5000);
  End
  Else If (Message = '!lv') Then
  Begin
    SetPlayerInterior(PlayerID,0);
    SetPlayerPos(PlayerID, 2286.961914, 2429.110839, 10.820312);
    SendTextToPlayer(PlayerID,'*** Welcome in Las Venturas!');
    DisplayTextPlayer(PlayerID,4,'Las Venturas',5000);
  End
  Else If (Message = '!mp') Then
  Begin
    SetPlayerInterior(PlayerID,1);
    SetPlayerPos(PlayerID, -785.191100, 497.430400, 1376.195000);
    SendTextToPlayer(PlayerID,'*** Welcome to Marcos Place!');
    DisplayTextPlayer(PlayerID,4,'Marcos Place',5000);
  End
  Else If (Message = '!rusty') Then
  Begin
    //SetPlayerInterior(PlayerID,1);
    //SetPlayerPos(PlayerID, -785.191100, 497.430400, 1376.195000);
    //SendTextToPlayer(PlayerID,'*** Welcome to Marcos Place!');
    //DisplayTextPlayer(PlayerID,4,'Marcos Place',5000);
    SetPlayerInterior(PlayerID,4);
    SetPlayerPos(PlayerID, 458.2928, -89.69732, 999.5547);
    SendTextToPlayer(PlayerID,'*** Welcome to Rusty Browns Ring Donuts!');
    DisplayTextPlayer(PlayerID,4,'Rusty Browns Ring Donuts',7000);
  End
  Else If (Message = '!lc') Then
  Begin
    SetPlayerInterior(PlayerID,1);
    SetPlayerPos(PlayerID, -783.2614, 503.1347, 1381.6);
    SendTextToPlayer(PlayerID,'*** Welcome in Liberty City!');
    DisplayTextPlayer(PlayerID,4,'Liberty City',5000);
  End
  Else If (Message = '!sa') Then
  Begin
    SetPlayerPos(PlayerID, 0.0, 0.0, 5.0);
    SetPlayerInterior(PlayerID,0);
    SendTextToPlayer(PlayerID,'*** Welcome in San Andreas!');
    DisplayTextPlayer(PlayerID,4,'San Andreas',5000);
  End
  Else If (Message = '!money') Then
  Begin
    SendTextToPlayer(PlayerID,'*** You got $'+ IntToStr(GetPlayerMoney(PlayerID)));
  End
  Else If (CopyBefore(Message,' ') = '!setmoney') Then
  Begin
    Tmp := CopyAfter(Message,' ');
    SetPlayerMoney(PlayerID,StrToInt(Tmp));
    SendTextToPlayer(PlayerID,'*** You got now $'+ Tmp +' in your pocket!');
  End
  Else If (Message = '!freeze') Then
  Begin
    SetPlayerFreeze(PlayerID,True);
  End
  Else If (Message = '!unfreeze') Then
  Begin
    SetPlayerFreeze(PlayerID,False);
  End
  Else If (CopyBefore(Message,' ') =  '!teleport') Then
  Begin
    Tmp := CopyAfter(Tmp,' ');
    i := GetPlayerID(Tmp);
    PosX := GetPlayerPosX(i);
    PosY := GetPlayerPosY(i);
    PosZ := GetPlayerPosZ(i);
    PosZ := PosZ + 5.0;
    SetPlayerPos(PlayerID,PosX,PosY,PosZ);
    SendTextToAll('* '+ GetPlayerNick(PlayerID) +' teleported to '+ Message);
  End
  Else If (CopyBefore(Message,' ') = '!weapon') Then
  Begin
    Tmp := CopyAfter(Message,' ');
    Val := StrToInt(Tmp);
    GivePlayerWeapon(PlayerID, Val);
  End
  Else If (CopyBefore(Message,' ') = '!spawn') Then
  Begin
    Tmp := CopyAfter(Message,' ');
    PosX := GetPlayerPosX(PlayerID);
    PosY := GetPlayerPosY(PlayerID);
    PosZ := GetPlayerPosZ(PlayerID);
    PosX := PosX + 5.0;
    PosZ := PosZ + 2.5;
    Val := StrToInt(Tmp);
    CreateVehicle(Val,PosX,PosY,PosZ,0.0);
    SendTextToAll('* '+ GetPlayerNick(PlayerID) +' spawned a '+ Tmp);
  End;

end;

procedure OnPlayerStartGame(PlayerID : Integer);
begin
  SendTextToAll('* '+ GetPlayerNick(PlayerID) +' joined the game');
  IRCSay(GetPlayerNick(PlayerID) +' joined the game');
end;

procedure OnPlayerExitGame(PlayerID : Integer);
begin
  SendTextToAll('* '+ GetPlayerNick(PlayerID) +' left the game');
  IRCSay(GetPlayerNick(PlayerID) +' left the game');
end;

procedure OnPlayerLeft(PlayerID : Integer);
begin
  SendTextToAll('* '+ GetPlayerNick(PlayerID) +' left the server');
  IRCSay(GetPlayerNick(PlayerID) +' left the server');
end;

procedure OnPlayerJoin(PlayerID : Integer);
begin
  SendTextToAllExceptPlayer(PlayerID,'* '+ GetPlayerNick(PlayerID) +' joined the server');
  IRCSay(GetPlayerNick(PlayerID) +' joined the server');
  SendTextToPlayer(PlayerID,'*** Hello '+ GetPlayerNick(PlayerID) +', welcome to this server.');
end;

procedure OnPlayerDeath(KillerID, PlayerID, ReasonID : Integer);
begin
  If (KillerID = 0) or (ReasonID = 0) Then
  begin
    SendTextToAll('* '+ GetPlayerNick(PlayerID) +' died');
    IRCSay(GetPlayerNick(PlayerID) +' died');
  end
  Else
  begin
    SendTextToAll('* '+ GetPlayerNick(KillerID) +' killed '+ GetPlayerNick(PlayerID) +' ('+ GetDeathReason(ReasonID) +')');
    IRCSay(GetPlayerNick(KillerID) +' killed '+ GetPlayerNick(PlayerID) +' ('+ GetDeathReason(ReasonID) +')');
  end
end;

procedure OnIRCJoin(Nickname : String);
begin
  SendTextToAll('* '+Nickname+' joined the IRC channel.');
end;

procedure OnIRCMessage(Nickname, Message : String);
var
  Tmp : String;
begin
  if (Message = '!about') Then
  begin
    IRCSay('Some Random Test Script');
  end
  Else if (CopyBefore(Message,' ') = '!msg') Then
  begin
    Tmp := CopyAfter(Message, ' ');
    If (Tmp = '') Then
    begin
      IRCSay('*** Syntax: !msg <action>');
    end
    Else
    begin
      SendTextToAll('[IRC] '+Nickname+': '+Tmp);
      IRCSay('[IRC] '+Nickname+': '+Tmp);
    end
  end;
end;

procedure OnIRCPart(Nickname : String);
begin
  SendTextToAll('* '+Nickname+' left the IRC channel.');
end;

begin
end.
